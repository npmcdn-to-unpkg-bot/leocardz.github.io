"use strict";var __decorate=this&&this.__decorate||function(e,o,t,n){var r,i=arguments.length,a=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,o,t,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(o,t,a):r(o,t))||a);return i>3&&a&&Object.defineProperty(o,t,a),a},__metadata=this&&this.__metadata||function(e,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,o)},core_1=require("@angular/core"),router_1=require("@angular/router"),http_1=require("@angular/http"),platform_browser_1=require("@angular/platform-browser");require("marked");var angular2_moment_1=require("angular2-moment"),ng2_pagination_1=require("ng2-pagination"),home_component_1=require("./home.component"),android_component_1=require("./android.component"),blog_component_1=require("./blog.component"),ios_component_1=require("./ios.component"),lab_component_1=require("./lab.component"),about_component_1=require("./about.component"),open_source_component_1=require("./open.source.component"),privacy_component_1=require("./privacy.component"),tag_component_1=require("./tag.component"),not_found_component_1=require("./not.found.component"),index_service_1=require("../services/index.service"),search_service_1=require("../services/search.service"),meta_service_1=require("../services/meta.service"),label_service_1=require("../services/label.service"),AppComponent=function(){function e(e,o,t,n){var r=this;this._router=e,this._indexService=o,this._metaService=t,this._labelService=n,this.isLoading=!0,this.posts=[],this.activities=[],o.activities(function(e){return r.activities=e}),e.events.subscribe(function(e){e instanceof router_1.NavigationStart?(r.posts=[],r.isLoading=!0):e instanceof router_1.NavigationEnd&&(r.isLoading=!1)})}return e.prototype.ngOnInit=function(){},e.prototype.actionSearch=function(e){var o=this;this._indexService.search(function(e){o.posts=e},e)},e.prototype.actionNavigate=function(e){this._router.navigate(["/"+e.label+"/"+e.path])},e.prototype.getLinkStyle=function(e){return"/"===e&&window.location.pathname===e||"/"!==e&&0===window.location.pathname.indexOf(e)},e.prototype.labelnize=function(e,o){return this._labelService.labelnize(e,o)},e.prototype.markdown=function(e){e=e.replace(/\*\*\*\*/g,"");var o=marked(e);return o.substring(3,o.length-5)+" "},e=__decorate([core_1.Component({moduleId:module.id,selector:"app",templateUrl:"dist/app/views/app.component.html",directives:[router_1.ROUTER_DIRECTIVES,ng2_pagination_1.PaginationControlsCmp],pipes:[angular2_moment_1.TimeAgoPipe,ng2_pagination_1.PaginatePipe],providers:[index_service_1.IndexService,search_service_1.SearchService,meta_service_1.MetaService,label_service_1.LabelService,platform_browser_1.Title,http_1.HTTP_PROVIDERS,ng2_pagination_1.PaginationService],precompile:[home_component_1.HomeComponent,android_component_1.AndroidComponent,blog_component_1.BlogComponent,ios_component_1.IOSComponent,lab_component_1.LabComponent,about_component_1.AboutComponent,open_source_component_1.OpenSourceComponent,privacy_component_1.PrivacyComponent,tag_component_1.TagComponent,not_found_component_1.NotFoundComponent]}),__metadata("design:paramtypes",[router_1.Router,index_service_1.IndexService,meta_service_1.MetaService,label_service_1.LabelService])],e)}();exports.AppComponent=AppComponent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvYXBwLmNvbXBvbmVudC5qcyJdLCJuYW1lcyI6WyJfX2RlY29yYXRlIiwidGhpcyIsImRlY29yYXRvcnMiLCJ0YXJnZXQiLCJrZXkiLCJkZXNjIiwiZCIsImMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJyIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUmVmbGVjdCIsImRlY29yYXRlIiwiaSIsImRlZmluZVByb3BlcnR5IiwiX19tZXRhZGF0YSIsImsiLCJ2IiwibWV0YWRhdGEiLCJjb3JlXzEiLCJyZXF1aXJlIiwicm91dGVyXzEiLCJodHRwXzEiLCJwbGF0Zm9ybV9icm93c2VyXzEiLCJhbmd1bGFyMl9tb21lbnRfMSIsIm5nMl9wYWdpbmF0aW9uXzEiLCJob21lX2NvbXBvbmVudF8xIiwiYW5kcm9pZF9jb21wb25lbnRfMSIsImJsb2dfY29tcG9uZW50XzEiLCJpb3NfY29tcG9uZW50XzEiLCJsYWJfY29tcG9uZW50XzEiLCJhYm91dF9jb21wb25lbnRfMSIsIm9wZW5fc291cmNlX2NvbXBvbmVudF8xIiwicHJpdmFjeV9jb21wb25lbnRfMSIsInRhZ19jb21wb25lbnRfMSIsIm5vdF9mb3VuZF9jb21wb25lbnRfMSIsImluZGV4X3NlcnZpY2VfMSIsInNlYXJjaF9zZXJ2aWNlXzEiLCJtZXRhX3NlcnZpY2VfMSIsImxhYmVsX3NlcnZpY2VfMSIsIkFwcENvbXBvbmVudCIsIl9yb3V0ZXIiLCJfaW5kZXhTZXJ2aWNlIiwiX21ldGFTZXJ2aWNlIiwiX2xhYmVsU2VydmljZSIsIl90aGlzIiwiaXNMb2FkaW5nIiwicG9zdHMiLCJhY3Rpdml0aWVzIiwicmVzIiwiZXZlbnRzIiwic3Vic2NyaWJlIiwiZXZlbnQiLCJOYXZpZ2F0aW9uU3RhcnQiLCJOYXZpZ2F0aW9uRW5kIiwicHJvdG90eXBlIiwibmdPbkluaXQiLCJhY3Rpb25TZWFyY2giLCJzIiwic2VhcmNoIiwiYWN0aW9uTmF2aWdhdGUiLCJwb3N0IiwibmF2aWdhdGUiLCJsYWJlbCIsInBhdGgiLCJnZXRMaW5rU3R5bGUiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwiaW5kZXhPZiIsImxhYmVsbml6ZSIsInVwcGVyY2FzZSIsIm1hcmtkb3duIiwicmVwbGFjZSIsIm1kIiwibWFya2VkIiwic3Vic3RyaW5nIiwiQ29tcG9uZW50IiwibW9kdWxlSWQiLCJtb2R1bGUiLCJpZCIsInNlbGVjdG9yIiwidGVtcGxhdGVVcmwiLCJkaXJlY3RpdmVzIiwiUk9VVEVSX0RJUkVDVElWRVMiLCJQYWdpbmF0aW9uQ29udHJvbHNDbXAiLCJwaXBlcyIsIlRpbWVBZ29QaXBlIiwiUGFnaW5hdGVQaXBlIiwicHJvdmlkZXJzIiwiSW5kZXhTZXJ2aWNlIiwiU2VhcmNoU2VydmljZSIsIk1ldGFTZXJ2aWNlIiwiTGFiZWxTZXJ2aWNlIiwiVGl0bGUiLCJIVFRQX1BST1ZJREVSUyIsIlBhZ2luYXRpb25TZXJ2aWNlIiwicHJlY29tcGlsZSIsIkhvbWVDb21wb25lbnQiLCJBbmRyb2lkQ29tcG9uZW50IiwiQmxvZ0NvbXBvbmVudCIsIklPU0NvbXBvbmVudCIsIkxhYkNvbXBvbmVudCIsIkFib3V0Q29tcG9uZW50IiwiT3BlblNvdXJjZUNvbXBvbmVudCIsIlByaXZhY3lDb21wb25lbnQiLCJUYWdDb21wb25lbnQiLCJOb3RGb3VuZENvbXBvbmVudCIsIlJvdXRlciIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLFlBQ0EsSUFBSUEsWUFBY0MsTUFBUUEsS0FBS0QsWUFBZSxTQUFVRSxFQUFZQyxFQUFRQyxFQUFLQyxHQUM3RSxHQUEySEMsR0FBdkhDLEVBQUlDLFVBQVVDLE9BQVFDLEVBQUlILEVBQUksRUFBSUosRUFBa0IsT0FBVEUsRUFBZ0JBLEVBQU9NLE9BQU9DLHlCQUF5QlQsRUFBUUMsR0FBT0MsQ0FDckgsSUFBdUIsZ0JBQVpRLFVBQW9ELGtCQUFyQkEsU0FBUUMsU0FBeUJKLEVBQUlHLFFBQVFDLFNBQVNaLEVBQVlDLEVBQVFDLEVBQUtDLE9BQ3BILEtB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T0FDSTlELGtCQUFrQitELFlBQ2xCOUQsaUJBQWlCK0QsY0FFckJDLFdBQ0lyRCxnQkFBZ0JzRCxhQUNoQnJELGlCQUFpQnNELGNBQ2pCckQsZUFBZXNELFlBQ2ZyRCxnQkFBZ0JzRCxhQUNoQnRFLG1CQUFtQnVFLE1BQ25CeEUsT0FBT3lFLGVBQ1B0RSxpQkFBaUJ1RSxtQkFFckJDLFlBQ0l2RSxpQkFBaUJ3RSxjQUNqQnZFLG9CQUFvQndFLGlCQUNwQnZFLGlCQUFpQndFLGNBQ2pCdkUsZ0JBQWdCd0UsYUFDaEJ2RSxnQkFBZ0J3RSxhQUNoQnZFLGtCQUFrQndFLGVBQ2xCdkUsd0JBQXdCd0Usb0JBQ3hCdkUsb0JBQW9Cd0UsaUJBQ3BCdkUsZ0JBQWdCd0UsYUFDaEJ2RSxzQkFBc0J3RSxxQkFHOUI1RixXQUFXLHFCQUFzQk0sU0FBU3VGLE9BQVF4RSxnQkFBZ0JzRCxhQUFjcEQsZUFBZXNELFlBQWFyRCxnQkFBZ0JzRCxnQkFDN0hyRCxLQUdQcUUsU0FBUXJFLGFBQWVBIiwiZmlsZSI6ImNvbXBvbmVudHMvYXBwLmNvbXBvbmVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xudmFyIF9fbWV0YWRhdGEgPSAodGhpcyAmJiB0aGlzLl9fbWV0YWRhdGEpIHx8IGZ1bmN0aW9uIChrLCB2KSB7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xufTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgcm91dGVyXzEgPSByZXF1aXJlKCdAYW5ndWxhci9yb3V0ZXInKTtcbnZhciBodHRwXzEgPSByZXF1aXJlKCdAYW5ndWxhci9odHRwJyk7XG52YXIgcGxhdGZvcm1fYnJvd3Nlcl8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3NlcicpO1xucmVxdWlyZSgnbWFya2VkJyk7XG52YXIgYW5ndWxhcjJfbW9tZW50XzEgPSByZXF1aXJlKCdhbmd1bGFyMi1tb21lbnQnKTtcbnZhciBuZzJfcGFnaW5hdGlvbl8xID0gcmVxdWlyZSgnbmcyLXBhZ2luYXRpb24nKTtcbnZhciBob21lX2NvbXBvbmVudF8xID0gcmVxdWlyZSgnLi9ob21lLmNvbXBvbmVudCcpO1xudmFyIGFuZHJvaWRfY29tcG9uZW50XzEgPSByZXF1aXJlKCcuL2FuZHJvaWQuY29tcG9uZW50Jyk7XG52YXIgYmxvZ19jb21wb25lbnRfMSA9IHJlcXVpcmUoJy4vYmxvZy5jb21wb25lbnQnKTtcbnZhciBpb3NfY29tcG9uZW50XzEgPSByZXF1aXJlKCcuL2lvcy5jb21wb25lbnQnKTtcbnZhciBsYWJfY29tcG9uZW50XzEgPSByZXF1aXJlKCcuL2xhYi5jb21wb25lbnQnKTtcbnZhciBhYm91dF9jb21wb25lbnRfMSA9IHJlcXVpcmUoJy4vYWJvdXQuY29tcG9uZW50Jyk7XG52YXIgb3Blbl9zb3VyY2VfY29tcG9uZW50XzEgPSByZXF1aXJlKCcuL29wZW4uc291cmNlLmNvbXBvbmVudCcpO1xudmFyIHByaXZhY3lfY29tcG9uZW50XzEgPSByZXF1aXJlKCcuL3ByaXZhY3kuY29tcG9uZW50Jyk7XG52YXIgdGFnX2NvbXBvbmVudF8xID0gcmVxdWlyZSgnLi90YWcuY29tcG9uZW50Jyk7XG52YXIgbm90X2ZvdW5kX2NvbXBvbmVudF8xID0gcmVxdWlyZSgnLi9ub3QuZm91bmQuY29tcG9uZW50Jyk7XG52YXIgaW5kZXhfc2VydmljZV8xID0gcmVxdWlyZSgnLi4vc2VydmljZXMvaW5kZXguc2VydmljZScpO1xudmFyIHNlYXJjaF9zZXJ2aWNlXzEgPSByZXF1aXJlKCcuLi9zZXJ2aWNlcy9zZWFyY2guc2VydmljZScpO1xudmFyIG1ldGFfc2VydmljZV8xID0gcmVxdWlyZSgnLi4vc2VydmljZXMvbWV0YS5zZXJ2aWNlJyk7XG52YXIgbGFiZWxfc2VydmljZV8xID0gcmVxdWlyZSgnLi4vc2VydmljZXMvbGFiZWwuc2VydmljZScpO1xudmFyIEFwcENvbXBvbmVudCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXBwQ29tcG9uZW50KF9yb3V0ZXIsIF9pbmRleFNlcnZpY2UsIF9tZXRhU2VydmljZSwgX2xhYmVsU2VydmljZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9yb3V0ZXIgPSBfcm91dGVyO1xuICAgICAgICB0aGlzLl9pbmRleFNlcnZpY2UgPSBfaW5kZXhTZXJ2aWNlO1xuICAgICAgICB0aGlzLl9tZXRhU2VydmljZSA9IF9tZXRhU2VydmljZTtcbiAgICAgICAgdGhpcy5fbGFiZWxTZXJ2aWNlID0gX2xhYmVsU2VydmljZTtcbiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLnBvc3RzID0gW107XG4gICAgICAgIHRoaXMuYWN0aXZpdGllcyA9IFtdO1xuICAgICAgICBfaW5kZXhTZXJ2aWNlLmFjdGl2aXRpZXMoZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gX3RoaXMuYWN0aXZpdGllcyA9IHJlczsgfSk7XG4gICAgICAgIF9yb3V0ZXIuZXZlbnRzLnN1YnNjcmliZShmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudCBpbnN0YW5jZW9mIHJvdXRlcl8xLk5hdmlnYXRpb25TdGFydCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnBvc3RzID0gW107XG4gICAgICAgICAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50IGluc3RhbmNlb2Ygcm91dGVyXzEuTmF2aWdhdGlvbkVuZClcbiAgICAgICAgICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIEFwcENvbXBvbmVudC5wcm90b3R5cGUubmdPbkluaXQgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgQXBwQ29tcG9uZW50LnByb3RvdHlwZS5hY3Rpb25TZWFyY2ggPSBmdW5jdGlvbiAocykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9pbmRleFNlcnZpY2Uuc2VhcmNoKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgIF90aGlzLnBvc3RzID0gcmVzO1xuICAgICAgICB9LCBzKTtcbiAgICB9O1xuICAgIEFwcENvbXBvbmVudC5wcm90b3R5cGUuYWN0aW9uTmF2aWdhdGUgPSBmdW5jdGlvbiAocG9zdCkge1xuICAgICAgICB0aGlzLl9yb3V0ZXIubmF2aWdhdGUoWycvJyArIHBvc3QubGFiZWwgKyBcIi9cIiArIHBvc3QucGF0aF0pO1xuICAgIH07XG4gICAgQXBwQ29tcG9uZW50LnByb3RvdHlwZS5nZXRMaW5rU3R5bGUgPSBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICByZXR1cm4gKHBhdGggPT09IFwiL1wiICYmIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9PT0gcGF0aCkgfHwgKHBhdGggIT09IFwiL1wiICYmIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKHBhdGgpID09PSAwKTtcbiAgICB9O1xuICAgIEFwcENvbXBvbmVudC5wcm90b3R5cGUubGFiZWxuaXplID0gZnVuY3Rpb24gKGxhYmVsLCB1cHBlcmNhc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhYmVsU2VydmljZS5sYWJlbG5pemUobGFiZWwsIHVwcGVyY2FzZSk7XG4gICAgfTtcbiAgICBBcHBDb21wb25lbnQucHJvdG90eXBlLm1hcmtkb3duID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcyA9IHMucmVwbGFjZSgvXFwqXFwqXFwqXFwqL2csIFwiXCIpO1xuICAgICAgICB2YXIgbWQgPSBtYXJrZWQocyk7XG4gICAgICAgIHJldHVybiBtZC5zdWJzdHJpbmcoMywgbWQubGVuZ3RoIC0gNSkgKyBcIiBcIjtcbiAgICB9O1xuICAgIEFwcENvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBjb3JlXzEuQ29tcG9uZW50KHtcbiAgICAgICAgICAgIG1vZHVsZUlkOiBtb2R1bGUuaWQsXG4gICAgICAgICAgICBzZWxlY3RvcjogJ2FwcCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2Rpc3QvYXBwL3ZpZXdzL2FwcC5jb21wb25lbnQuaHRtbCcsXG4gICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgcm91dGVyXzEuUk9VVEVSX0RJUkVDVElWRVMsXG4gICAgICAgICAgICAgICAgbmcyX3BhZ2luYXRpb25fMS5QYWdpbmF0aW9uQ29udHJvbHNDbXBcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBwaXBlczogW1xuICAgICAgICAgICAgICAgIGFuZ3VsYXIyX21vbWVudF8xLlRpbWVBZ29QaXBlLFxuICAgICAgICAgICAgICAgIG5nMl9wYWdpbmF0aW9uXzEuUGFnaW5hdGVQaXBlXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICAgICAgaW5kZXhfc2VydmljZV8xLkluZGV4U2VydmljZSxcbiAgICAgICAgICAgICAgICBzZWFyY2hfc2VydmljZV8xLlNlYXJjaFNlcnZpY2UsXG4gICAgICAgICAgICAgICAgbWV0YV9zZXJ2aWNlXzEuTWV0YVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgbGFiZWxfc2VydmljZV8xLkxhYmVsU2VydmljZSxcbiAgICAgICAgICAgICAgICBwbGF0Zm9ybV9icm93c2VyXzEuVGl0bGUsXG4gICAgICAgICAgICAgICAgaHR0cF8xLkhUVFBfUFJPVklERVJTLFxuICAgICAgICAgICAgICAgIG5nMl9wYWdpbmF0aW9uXzEuUGFnaW5hdGlvblNlcnZpY2VcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBwcmVjb21waWxlOiBbXG4gICAgICAgICAgICAgICAgaG9tZV9jb21wb25lbnRfMS5Ib21lQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIGFuZHJvaWRfY29tcG9uZW50XzEuQW5kcm9pZENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBibG9nX2NvbXBvbmVudF8xLkJsb2dDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgaW9zX2NvbXBvbmVudF8xLklPU0NvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBsYWJfY29tcG9uZW50XzEuTGFiQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIGFib3V0X2NvbXBvbmVudF8xLkFib3V0Q29tcG9uZW50LFxuICAgICAgICAgICAgICAgIG9wZW5fc291cmNlX2NvbXBvbmVudF8xLk9wZW5Tb3VyY2VDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgcHJpdmFjeV9jb21wb25lbnRfMS5Qcml2YWN5Q29tcG9uZW50LFxuICAgICAgICAgICAgICAgIHRhZ19jb21wb25lbnRfMS5UYWdDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgbm90X2ZvdW5kX2NvbXBvbmVudF8xLk5vdEZvdW5kQ29tcG9uZW50XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pLCBcbiAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBbcm91dGVyXzEuUm91dGVyLCBpbmRleF9zZXJ2aWNlXzEuSW5kZXhTZXJ2aWNlLCBtZXRhX3NlcnZpY2VfMS5NZXRhU2VydmljZSwgbGFiZWxfc2VydmljZV8xLkxhYmVsU2VydmljZV0pXG4gICAgXSwgQXBwQ29tcG9uZW50KTtcbiAgICByZXR1cm4gQXBwQ29tcG9uZW50O1xufSgpKTtcbmV4cG9ydHMuQXBwQ29tcG9uZW50ID0gQXBwQ29tcG9uZW50O1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

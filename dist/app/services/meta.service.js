"use strict";var __decorate=this&&this.__decorate||function(e,t,i,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(s<3?a(o):s>3?a(t,i,o):a(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}},core_1=require("@angular/core"),platform_browser_1=require("@angular/platform-browser"),platform_browser_2=require("@angular/platform-browser"),MetaService=function(){function e(e,t){this._title=e,this.base="http://leocardz.com",this.staticMetas={title:"leocardz.com",description:"This is the place where we talk about programming. Come along!",keywords:"programming,ios,swift,android,mobile,development,dev",image:this.base+"/dist/assets/images/default-512.png",url:this.base},this.DOM=t,this.headElement=t.querySelector("head")}return e.prototype.setData=function(e){var t=Object.assign({},this.staticMetas);void 0!==e.title&&(t.title=e.title+" â€¢ leocardz.com"),void 0!==e.description&&(t.description=this.sliceDescription(e.description)),void 0!==e.keywords&&(t.keywords=e.keywords),void 0!==e.image&&(t.image=this.base+"/images"+e.image),void 0!==e.url&&(t.url=t.url+e.url),this._title.setTitle(t.title),this.setMetaElement("author","Leonardo Cardoso"),this.setMetaElement("description",t.description),this.setMetaElement("keywords",t.keywords),this.setMetaElement("twitter:card","summary_large_image"),this.setMetaElement("twitter:creator","@leocardz"),this.setMetaElement("twitter:site",t.url),this.setMetaElement("twitter:title",t.title),this.setMetaElement("twitter:description",t.description),this.setMetaElement("twitter:image:src",t.image),this.setMetaElement("fb:admins","182900240026"),this.setMetaElement("og:type","website"),this.setMetaElement("og:site_name","leocardz.com"),this.setMetaElement("og:title",t.title),this.setMetaElement("og:description",t.description),this.setMetaElement("og:image",t.image)},e.prototype.sliceDescription=function(e){var t=e.slice(0,250).lastIndexOf(" ");return e.substring(0,t)+"..."},e.prototype.setMetaElement=function(e,t){var i;i=this.DOM.querySelector('meta[name="'+e+'"]'),null===i?(i=this.DOM.createElement("meta"),i.setAttribute("name",e),i.setAttribute("content",t),this.headElement.appendChild(i)):i.setAttribute("content",t)},e=__decorate([core_1.Injectable(),__param(1,core_1.Inject(platform_browser_2.DOCUMENT)),__metadata("design:paramtypes",[platform_browser_1.Title,Object])],e)}();exports.MetaService=MetaService;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2VzL21ldGEuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJfX2RlY29yYXRlIiwidGhpcyIsImRlY29yYXRvcnMiLCJ0YXJnZXQiLCJrZXkiLCJkZXNjIiwiZCIsImMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJyIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUmVmbGVjdCIsImRlY29yYXRlIiwiaSIsImRlZmluZVByb3BlcnR5IiwiX19tZXRhZGF0YSIsImsiLCJ2IiwibWV0YWRhdGEiLCJfX3BhcmFtIiwicGFyYW1JbmRleCIsImRlY29yYXRvciIsImNvcmVfMSIsInJlcXVpcmUiLCJwbGF0Zm9ybV9icm93c2VyXzEiLCJwbGF0Zm9ybV9icm93c2VyXzIiLCJNZXRhU2VydmljZSIsIl90aXRsZSIsImRvYyIsImJhc2UiLCJzdGF0aWNNZXRhcyIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJrZXl3b3JkcyIsImltYWdlIiwidXJsIiwiRE9NIiwiaGVhZEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicHJvdG90eXBlIiwic2V0RGF0YSIsIm9iamVjdCIsIm1ldGFzIiwiYXNzaWduIiwidW5kZWZpbmVkIiwic2xpY2VEZXNjcmlwdGlvbiIsInNldFRpdGxlIiwic2V0TWV0YUVsZW1lbnQiLCJzdHJpbmciLCJsYXN0U3BhY2VJbmRleCIsInNsaWNlIiwibGFzdEluZGV4T2YiLCJzdWJzdHJpbmciLCJuYW1lIiwiY29udGVudCIsImVsIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwiSW5qZWN0YWJsZSIsIkluamVjdCIsIkRPQ1VNRU5UIiwiVGl0bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUNBLElBQUlBLFlBQWNDLE1BQVFBLEtBQUtELFlBQWUsU0FBVUUsRUFBWUMsRUFBUUMsRUFBS0MsR0FDN0UsR0FBMkhDLEdBQXZIQyxFQUFJQyxVQUFVQyxPQUFRQyxFQUFJSCxFQUFJLEVB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QUFZYSxVQUFVUSxlQUFpQixTQUFVTSxFQUFNQyxHQUNuRCxHQUFJQyxFQUNKQSxHQUFLeEQsS0FBS3FDLElBQUlFLGNBQWMsY0FBZ0JlLEVBQU8sTUFDeEMsT0FBUEUsR0FDQUEsRUFBS3hELEtBQUtxQyxJQUFJb0IsY0FBYyxRQUM1QkQsRUFBR0UsYUFBYSxPQUFRSixHQUN4QkUsRUFBR0UsYUFBYSxVQUFXSCxHQUMzQnZELEtBQUtzQyxZQUFZcUIsWUFBWUgsSUFHN0JBLEVBQUdFLGFBQWEsVUFBV0gsSUFHbkM1QixFQUFjNUIsWUFDVndCLE9BQU9xQyxhQUNQeEMsUUFBUSxFQUFHRyxPQUFPc0MsT0FBT25DLG1CQUFtQm9DLFdBQzVDOUMsV0FBVyxxQkFBc0JTLG1CQUFtQnNDLE1BQU9yRCxVQUM1RGlCLEtBR1BxQyxTQUFRckMsWUFBY0EiLCJmaWxlIjoic2VydmljZXMvbWV0YS5zZXJ2aWNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG52YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG59O1xudmFyIF9fcGFyYW0gPSAodGhpcyAmJiB0aGlzLl9fcGFyYW0pIHx8IGZ1bmN0aW9uIChwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cbn07XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIHBsYXRmb3JtX2Jyb3dzZXJfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInKTtcbnZhciBwbGF0Zm9ybV9icm93c2VyXzIgPSByZXF1aXJlKFwiQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3NlclwiKTtcbnZhciBNZXRhU2VydmljZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWV0YVNlcnZpY2UoX3RpdGxlLCBkb2MpIHtcbiAgICAgICAgdGhpcy5fdGl0bGUgPSBfdGl0bGU7XG4gICAgICAgIHRoaXMuYmFzZSA9IFwiaHR0cDovL2xlb2NhcmR6LmNvbVwiO1xuICAgICAgICB0aGlzLnN0YXRpY01ldGFzID0ge1xuICAgICAgICAgICAgdGl0bGU6IFwibGVvY2FyZHouY29tXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJUaGlzIGlzIHRoZSBwbGFjZSB3aGVyZSB3ZSB0YWxrIGFib3V0IHByb2dyYW1taW5nLiBDb21lIGFsb25nIVwiLFxuICAgICAgICAgICAga2V5d29yZHM6IFwicHJvZ3JhbW1pbmcsaW9zLHN3aWZ0LGFuZHJvaWQsbW9iaWxlLGRldmVsb3BtZW50LGRldlwiLFxuICAgICAgICAgICAgaW1hZ2U6IHRoaXMuYmFzZSArIFwiL2Rpc3QvYXNzZXRzL2ltYWdlcy9kZWZhdWx0LTUxMi5wbmdcIixcbiAgICAgICAgICAgIHVybDogdGhpcy5iYXNlXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuRE9NID0gZG9jO1xuICAgICAgICB0aGlzLmhlYWRFbGVtZW50ID0gZG9jLnF1ZXJ5U2VsZWN0b3IoJ2hlYWQnKTtcbiAgICB9XG4gICAgTWV0YVNlcnZpY2UucHJvdG90eXBlLnNldERhdGEgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgIHZhciBtZXRhcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGljTWV0YXMpO1xuICAgICAgICBpZiAodW5kZWZpbmVkICE9PSBvYmplY3RbXCJ0aXRsZVwiXSkge1xuICAgICAgICAgICAgbWV0YXMudGl0bGUgPSBvYmplY3RbXCJ0aXRsZVwiXSArIFwiIOKAoiBsZW9jYXJkei5jb21cIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodW5kZWZpbmVkICE9PSBvYmplY3RbXCJkZXNjcmlwdGlvblwiXSkge1xuICAgICAgICAgICAgbWV0YXMuZGVzY3JpcHRpb24gPSB0aGlzLnNsaWNlRGVzY3JpcHRpb24ob2JqZWN0W1wiZGVzY3JpcHRpb25cIl0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1bmRlZmluZWQgIT09IG9iamVjdFtcImtleXdvcmRzXCJdKSB7XG4gICAgICAgICAgICBtZXRhcy5rZXl3b3JkcyA9IG9iamVjdFtcImtleXdvcmRzXCJdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1bmRlZmluZWQgIT09IG9iamVjdFtcImltYWdlXCJdKSB7XG4gICAgICAgICAgICBtZXRhcy5pbWFnZSA9IHRoaXMuYmFzZSArIFwiL2ltYWdlc1wiICsgb2JqZWN0W1wiaW1hZ2VcIl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVuZGVmaW5lZCAhPT0gb2JqZWN0W1widXJsXCJdKSB7XG4gICAgICAgICAgICBtZXRhcy51cmwgPSBtZXRhcy51cmwgKyBvYmplY3RbXCJ1cmxcIl07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGl0bGUuc2V0VGl0bGUobWV0YXMudGl0bGUpO1xuICAgICAgICB0aGlzLnNldE1ldGFFbGVtZW50KFwiYXV0aG9yXCIsIFwiTGVvbmFyZG8gQ2FyZG9zb1wiKTtcbiAgICAgICAgdGhpcy5zZXRNZXRhRWxlbWVudChcImRlc2NyaXB0aW9uXCIsIG1ldGFzLmRlc2NyaXB0aW9uKTtcbiAgICAgICAgdGhpcy5zZXRNZXRhRWxlbWVudChcImtleXdvcmRzXCIsIG1ldGFzLmtleXdvcmRzKTtcbiAgICAgICAgdGhpcy5zZXRNZXRhRWxlbWVudChcInR3aXR0ZXI6Y2FyZFwiLCBcInN1bW1hcnlfbGFyZ2VfaW1hZ2VcIik7XG4gICAgICAgIHRoaXMuc2V0TWV0YUVsZW1lbnQoXCJ0d2l0dGVyOmNyZWF0b3JcIiwgXCJAbGVvY2FyZHpcIik7XG4gICAgICAgIHRoaXMuc2V0TWV0YUVsZW1lbnQoXCJ0d2l0dGVyOnNpdGVcIiwgbWV0YXMudXJsKTtcbiAgICAgICAgdGhpcy5zZXRNZXRhRWxlbWVudChcInR3aXR0ZXI6dGl0bGVcIiwgbWV0YXMudGl0bGUpO1xuICAgICAgICB0aGlzLnNldE1ldGFFbGVtZW50KFwidHdpdHRlcjpkZXNjcmlwdGlvblwiLCBtZXRhcy5kZXNjcmlwdGlvbik7XG4gICAgICAgIHRoaXMuc2V0TWV0YUVsZW1lbnQoXCJ0d2l0dGVyOmltYWdlOnNyY1wiLCBtZXRhcy5pbWFnZSk7XG4gICAgICAgIHRoaXMuc2V0TWV0YUVsZW1lbnQoXCJmYjphZG1pbnNcIiwgXCIxODI5MDAyNDAwMjZcIik7XG4gICAgICAgIHRoaXMuc2V0TWV0YUVsZW1lbnQoXCJvZzp0eXBlXCIsIFwid2Vic2l0ZVwiKTtcbiAgICAgICAgdGhpcy5zZXRNZXRhRWxlbWVudChcIm9nOnNpdGVfbmFtZVwiLCBcImxlb2NhcmR6LmNvbVwiKTtcbiAgICAgICAgdGhpcy5zZXRNZXRhRWxlbWVudChcIm9nOnRpdGxlXCIsIG1ldGFzLnRpdGxlKTtcbiAgICAgICAgdGhpcy5zZXRNZXRhRWxlbWVudChcIm9nOmRlc2NyaXB0aW9uXCIsIG1ldGFzLmRlc2NyaXB0aW9uKTtcbiAgICAgICAgdGhpcy5zZXRNZXRhRWxlbWVudChcIm9nOmltYWdlXCIsIG1ldGFzLmltYWdlKTtcbiAgICB9O1xuICAgIE1ldGFTZXJ2aWNlLnByb3RvdHlwZS5zbGljZURlc2NyaXB0aW9uID0gZnVuY3Rpb24gKHN0cmluZykge1xuICAgICAgICB2YXIgbGFzdFNwYWNlSW5kZXggPSBzdHJpbmcuc2xpY2UoMCwgMjUwKS5sYXN0SW5kZXhPZihcIiBcIik7XG4gICAgICAgIHJldHVybiBzdHJpbmcuc3Vic3RyaW5nKDAsIGxhc3RTcGFjZUluZGV4KSArIFwiLi4uXCI7XG4gICAgfTtcbiAgICBNZXRhU2VydmljZS5wcm90b3R5cGUuc2V0TWV0YUVsZW1lbnQgPSBmdW5jdGlvbiAobmFtZSwgY29udGVudCkge1xuICAgICAgICB2YXIgZWw7XG4gICAgICAgIGVsID0gdGhpcy5ET00ucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwiJyArIG5hbWUgKyAnXCJdJyk7XG4gICAgICAgIGlmIChlbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgZWwgPSB0aGlzLkRPTS5jcmVhdGVFbGVtZW50KCdtZXRhJyk7XG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBuYW1lKTtcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnY29udGVudCcsIGNvbnRlbnQpO1xuICAgICAgICAgICAgdGhpcy5oZWFkRWxlbWVudC5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnLCBjb250ZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWV0YVNlcnZpY2UgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgY29yZV8xLkluamVjdGFibGUoKSxcbiAgICAgICAgX19wYXJhbSgxLCBjb3JlXzEuSW5qZWN0KHBsYXRmb3JtX2Jyb3dzZXJfMi5ET0NVTUVOVCkpLCBcbiAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBbcGxhdGZvcm1fYnJvd3Nlcl8xLlRpdGxlLCBPYmplY3RdKVxuICAgIF0sIE1ldGFTZXJ2aWNlKTtcbiAgICByZXR1cm4gTWV0YVNlcnZpY2U7XG59KCkpO1xuZXhwb3J0cy5NZXRhU2VydmljZSA9IE1ldGFTZXJ2aWNlO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
